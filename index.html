<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- my stylesheet -->
    <link rel="stylesheet" href="css/style.css">

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- vue js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Boolzapp</title>
</head>


<body>

    <div id="app">

        <!-- wrapper app -->
        <main class="wrapper-app">

            <!-- container webb app -->

            <div class="container-app">

                <!-- contacts header  -->

                <div class="contacts">
                    <header>
                        <div class="img-header">
                            <img src="img/avatar_7.jpg" alt="">
                            <div>
                                <h5 class="name">Alexander</h5>
                            </div>


                        </div>



                        <div class="icons-header">
                            <a href=""><i class="fa-solid fa-circle-notch"></i></a>
                            <a href=""><i class="fa-solid fa-message"></i></a>
                            <a href=""><i class="fa-solid fa-ellipsis-vertical"></i>
                            </a>


                        </div>

                    </header>

                    <!-- navigation contacts  -->
                    <nav>
                        <div class="notification">
                            <div class="img-notification">
                                <p><i class="fa-regular fa-bell-slash"></i></p>
                            </div>
                            <div class="notification-text">
                                <h6>Ricevi notifiche di nuovi messaggi</h6>
                                <p>Attiva Notifiche Desktop</p>

                            </div>
                        </div>
                        <div class="search">
                            <div class="btn-search">

                                <p><i class="fa-solid fa-magnifying-glass"></i></p>
                                <input type="text" class="contacts-input" v-model="search"
                                    placeholder="Cerca o inizia una nuova chat"></input>

                            </div>


                        </div>
                    </nav>


                    <!-- contacts -->

                    <div class="cont-small-container">

                        <!-- rows    -->

                        <div class="row-preview">

                            <!-- columns     -->

                            <div class="col" v-for="(person,index) in filteredResult" @click="activeContact = index"
                                :class="(index == activeContact) ? 'active' : '' ">


                                <div class="avatar">
                                    <img :src="person.avatar" alt="">
                                </div>



                                <div class="text-preview">
                                    <div class="name-cont">
                                        <h5 class="">{{person.name}}</h5>
                                        <p class="small-text">ultimo messaggio inviato</p>
                                    </div>
                                    <div class="hour">
                                        <p class="smaller-text">12.45</p>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>

                </div>

                <!-- text area all -->

                <div class="texting-area">

                    <!-- Header my text area -->


                    <header>

                        <div class="chat-avatar">
                            <div class="img-header">
                                <img :src="filteredResult[activeContact].avatar" alt="">
                            </div>

                            <div class="details">
                                <div class="name-cont">
                                    <h5 class="">{{filteredResult[activeContact].name}}</h5>
                                    <p class="small-text">Ultimo accesso oggi alle 12.23</p>

                                </div>

                            </div>

                        </div>


                        <div class="icons-header">
                            <a href=""><i class="fa-solid fa-magnifying-glass"></i></a>
                            <a href=""> <i class="fa-solid fa-paperclip"></i></a>
                            <a href=""> <i class="fa-solid fa-ellipsis-vertical"></i></a>
                        </div>
                    </header>


                    <!-- main of my text area -->



                    <section class="messages-wrapper">

                        <div class="container-disp-messages">
                            <div class="row">
                                
                                <div class="inside-mex" v-for="(message) in filteredResult[activeContact].messages"
                                    :class="message.status == 'sent' ? 'sent': 'received' ">{{message.message}}

                                <div class="active-mex">
                                <div class="chevron">
                                    <p><i class="fa-solid fa-chevron-down"></i></p>
                                    <div class="hiden">
                                        <p>cancella messaggio</p>
                                        <p>modifica messaggio</p>
                                    </div>
                                </div>

                                <p class="smaller-text">16.43</p>
                            </div>
                            </div>
                            </div>
                        </div>





                    </section>






                    <!-- footer texting area -->


                    <footer class="footer-mex">

                        <a class="emoji"><i class="fa-regular fa-face-smile"></i></a>

                        <div class="text-bar">
                            <input type="text" v-model="newMessage" @keydown.enter=" addNewMessage(newMessage)">
                        </div>

                        <a class="mic"><i class="fa-solid fa-microphone"></i></a>
                    </footer>

                </div>

            </div>
        </main>
    </div>

    <script src="js/script.js"></script>
</body>

</html>